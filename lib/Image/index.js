!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["Image/index"]=e():t["Image/index"]=e()}(self,(function(){return function(){"use strict";var t={900:function(t,e,n){function o(t,e,n,o,r,i,a,l){var s,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=n,d._compiled=!0),o&&(d.functional=!0),i&&(d._scopeId="data-v-"+i),a?(s=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},d._ssrRegister=s):r&&(s=l?function(){r.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:r),s)if(d.functional){d._injectStyles=s;var c=d.render;d.render=function(t,e){return s.call(e),c(t,e)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,s):[s]}return{exports:t,options:d}}n.d(e,{Z:function(){return o}})}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var o={};return function(){n.d(o,{default:function(){return i}});var t=function(){var t=this,e=t._self._c;return e("div",{staticClass:"convenient-image",style:{width:t.width+"px",height:t.height+"px"}},[t.loading?t._t("placeholder"):t.error?t._t("error"):e("img",{style:{"object-fit":t.fit},attrs:{src:t.src,alt:t.alt}})],2)};t._withStripped=!0;var e={name:"CImage",props:{src:{type:String,default:""},width:{type:Number,default:300},height:{type:Number,default:300},lazy:{type:Boolean,default:!1},alt:{type:String,default:""},fit:{type:String,default:"fill",validator:t=>["fill","contain","cover","none","scale-down"].includes(t)}},data(){return{show:!this.lazy,loading:!0,error:!1}},watch:{show(t){t&&this.loadImage()}},mounted(){this.lazy?this.addLazyLoadListener():this.loadImage()},methods:{loadImage(){const t=new Image;t.src=this.src,t.onload=()=>{this.loading=!1,this.error=!1},t.onerror=()=>{this.loading=!1,this.error=!0}},addLazyLoadListener(){this._scrollContainer=function(t){let e=t;for(;e;){if([document.documentElement,document,window].includes(e))return window;let t=document.defaultView.getComputedStyle(e).overflow;if(/(scroll)|(auto)|(overlay)/.test(t))return e;e=e.parentNode}}(this.$el),this._scrollContainer?(this._lazyLoadHandler=this.lazyLoadHandler,this.lazyLoadHandler(),this._scrollContainer&&this._scrollContainer.addEventListener("scroll",this._lazyLoadHandler)):this.lazyLoadHandler()},lazyLoadHandler(){(function(t,e){if(!t||!e)return!1;const{top:n,bottom:o,right:r,left:i}=t.getBoundingClientRect();let a;return a=[window,document,document.documentElement,null,void 0].includes(e)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:e.getBoundingClientRect(),n<a.bottom&&o>a.top&&r>a.left&&i<a.right})(this.$el,this._scrollContainer)&&(this.show=!0,this.removeLazyLoadListener())},removeLazyLoadListener(){const{_scrollContainer:t,_lazyLoadHandler:e}=this;t&&e&&(this._scrollContainer.removeEventListener("scroll",this.lazyLoadHandler),this._scrollContainer=null,this._lazyLoadHandler=null)}},beforeDestroy(){this.lazy&&this.removeLazyLoadListener()}},r=(0,n(900).Z)(e,t,[],!1,null,"7b4a1ab3",null).exports;r.install=function(t){t.component(r.name,r)};var i=r}(),o=o.default}()}));